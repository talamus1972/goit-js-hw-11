{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector('.form');\nconst imagesGallery = document.querySelector('.gallery');\n\n// const searchParamsDefaults = {\n//   key: '41564235-b9b3b0b401bd21d391a887255',\n//   q: 'black',\n//   image_type: 'photo',\n//   orientation: 'horizontal',\n//   safesearch: true,\n// };\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"41564235-b9b3b0b401bd21d391a887255\";\n\nconst url = new URL(BASE_URL);\nurl.searchParams.append(\"key\", API_KEY);\n// url.searchParams.append(\"q\", \"query\");\nurl.searchParams.append(\"image_type\", \"foto\");\nurl.searchParams.append(\"orientation\", \"horizontal\");\nurl.searchParams.append(\"safesearch\", \"true\");\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const query = event.target.elements.search.value;\n   \n  renderImages(query);\n   event.currentTarget.reset();    \n});\n\nconst getImages = (query) => {\n    return fetch(url + query)\n        .then((response) => {\n        if (!response.ok) {\n        throw new Error(\"Somthing wrong\")\n        }\n        return response.json();\n})    \n}\n\nconst getHtml = ({hits}) => {\n     imagesGallery.innerHTML = hits.reduce((html, image) => html + `\n        <li class=\"gallery-item\">\n         <a href=${image.largeImageURL}> \n          <img class=\"gallery-img\" src =${image.webformatURL} alt=${image.tags}/>\n        </a>\n        <div class=\"gallery-text-box\">\n          <p>Likes: <span class=\"text-value\">${image.likes}</span></p>\n          <p>views: <span class=\"text-value\">${image.views}</span></p>\n          <p>comments: <span class=\"text-value\">${image.comments}</span></p>\n          <p>downloads: <span class=\"text-value\">${image.downloads}</span></p>\n      </div>\n       </li>\n    `, \"\")  \n    lightbox.refresh();  \n}\n\nfunction renderImages(query) {\n    getImages(query)\n        .then(po => {\n            getHtml(po);\n        })\n        .catch(error => console.log(error))\n }\n       \n\n\n\n\n                \n    // imagesGallery.innerHTML = query.reduce((html, image) => html + `\n    //     <li class=\"gallery-item\">\n    //      <a href=${image.largeImageURL}> \n    //       <img class=\"gallery-img\" src =${image.webformatURL} alt=${image.tags}/>\n    //     </a>\n    //     <div class=\"gallery-text-box\">\n    //       <p>Likes: <span class=\"text-value\">${image.likes}</span></p>\n    //       <p>views: <span class=\"text-value\">${image.views}</span></p>\n    //       <p>comments: <span class=\"text-value\">${image.comments}</span></p>\n    //       <p>downloads: <span class=\"text-value\">${image.downloads}</span></p>\n    //   </div>\n    //    </li>\n    // `, \"\")  \n    // lightbox.refresh();  \n  \n         \n\n\n\n    \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"names":["form","imagesGallery","BASE_URL","API_KEY","url","lightbox","SimpleLightbox","event","query","renderImages","getImages","response","getHtml","hits","html","image","po","error"],"mappings":"svBAMA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAgB,SAAS,cAAc,UAAU,EAUjDC,EAAW,2BACXC,EAAU,qCAEVC,EAAM,IAAI,IAAIF,CAAQ,EAC5BE,EAAI,aAAa,OAAO,MAAOD,CAAO,EAEtCC,EAAI,aAAa,OAAO,aAAc,MAAM,EAC5CA,EAAI,aAAa,OAAO,cAAe,YAAY,EACnDA,EAAI,aAAa,OAAO,aAAc,MAAM,EAE5C,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEDN,EAAK,iBAAiB,SAAUO,GAAS,CACvCA,EAAM,eAAc,EACpB,MAAMC,EAAQD,EAAM,OAAO,SAAS,OAAO,MAE3CE,EAAaD,CAAK,EACjBD,EAAM,cAAc,OACvB,CAAC,EAED,MAAMG,EAAaF,GACR,MAAMJ,EAAMI,CAAK,EACnB,KAAMG,GAAa,CACpB,GAAI,CAACA,EAAS,GACd,MAAM,IAAI,MAAM,gBAAgB,EAEhC,OAAOA,EAAS,MACxB,CAAC,EAGKC,EAAU,CAAC,CAAC,KAAAC,CAAI,IAAM,CACvBZ,EAAc,UAAYY,EAAK,OAAO,CAACC,EAAMC,IAAUD,EAAO;AAAA;AAAA,mBAEhDC,EAAM;AAAA,0CACiBA,EAAM,oBAAoBA,EAAM;AAAA;AAAA;AAAA,+CAG3BA,EAAM;AAAA,+CACNA,EAAM;AAAA,kDACHA,EAAM;AAAA,mDACLA,EAAM;AAAA;AAAA;AAAA,MAGlD,EAAE,EACLV,EAAS,QAAO,CACpB,EAEA,SAASI,EAAaD,EAAO,CACzBE,EAAUF,CAAK,EACV,KAAKQ,GAAM,CACRJ,EAAQI,CAAE,CACtB,CAAS,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACxC"}