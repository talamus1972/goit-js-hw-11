{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector('.form');\nconst imagesGallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nconst BASE_URL = \"https://pixabay.com/api/?\";\nconst API_KEY = \"41564235-b9b3b0b401bd21d391a887255\";\n\nconst searchParamsDefault = {\n  key: API_KEY,\n  q: '',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n};\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  close: true,\n  enableKeyboard: true,\n  docClose: true,\n});\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  loader.style.display = 'block';\nsearchParamsDefault.q = event.target.elements.search.value;\nconst searchParams = new URLSearchParams(searchParamsDefault);\ngetImages(searchParams);\nevent.currentTarget.reset();    \n});\n\nconst getImages = (params) => {\n    return fetch(BASE_URL + `${params}`)\n        .then((response) => {\n            if (!response.ok) {\n                throw new Error(`Something went wrong. Please try again later.`)\n            } \n            return response.json();\n        })\n       .then(({ hits }) => {\n            if (hits.length === 0) {\n                iziToast.error({\n                    position: 'topRight',\n                    messageColor: '#FFFFFF',\n                    backgroundColor: '#EF4040',\n                    titleSize: '8px',\n                    closeOnEscape: true,\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                });\n            } else {\n                imagesGallery.innerHTML = hits.reduce((html, image) => html + `\n                    <li class=\"gallery-item\">\n                        <a href=${image.largeImageURL}> \n                            <img class=\"gallery-img\" src=${image.webformatURL} alt=${image.tags}/>\n                        </a>\n                        <div class=\"gallery-text-box\">\n                            <p>Likes: <span class=\"text-value\">${image.likes}</span></p>\n                            <p>Views: <span class=\"text-value\">${image.views}</span></p>\n                            <p>Comments: <span class=\"text-value\">${image.comments}</span></p>\n                            <p>Downloads: <span class=\"text-value\">${image.downloads}</span></p>\n                        </div>\n                    </li>\n                `, \"\");\n                lightbox.refresh();\n            }\n        })\n    \n        .catch(error => {\n        console.error(error.message);\n        })\n        .finally(() => {\n            loader.style.display = 'none';\n        })\n    \n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"names":["form","imagesGallery","loader","BASE_URL","API_KEY","searchParamsDefault","lightbox","SimpleLightbox","event","searchParams","getImages","params","response","hits","iziToast","html","image","error"],"mappings":"6vBAMA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAgB,SAAS,cAAc,UAAU,EACjDC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,4BACXC,EAAU,qCAEVC,EAAsB,CAC1B,IAAKD,EACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EAEME,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,IACd,MAAO,GACP,eAAgB,GAChB,SAAU,EACZ,CAAC,EAEDP,EAAK,iBAAiB,SAAUQ,GAAS,CACvCA,EAAM,eAAc,EACpBN,EAAO,MAAM,QAAU,QACzBG,EAAoB,EAAIG,EAAM,OAAO,SAAS,OAAO,MACrD,MAAMC,EAAe,IAAI,gBAAgBJ,CAAmB,EAC5DK,EAAUD,CAAY,EACtBD,EAAM,cAAc,OACpB,CAAC,EAED,MAAME,EAAaC,GACR,MAAMR,EAAW,GAAGQ,GAAQ,EAC9B,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,+CAA+C,EAEnE,OAAOA,EAAS,MAC5B,CAAS,EACD,KAAK,CAAC,CAAE,KAAAC,KAAW,CACXA,EAAK,SAAW,EAChBC,EAAS,MAAM,CACX,SAAU,WACV,aAAc,UACd,gBAAiB,UACjB,UAAW,MACX,cAAe,GACf,QAAS,0EAC7B,CAAiB,GAEDb,EAAc,UAAYY,EAAK,OAAO,CAACE,EAAMC,IAAUD,EAAO;AAAA;AAAA,kCAE5CC,EAAM;AAAA,2DACmBA,EAAM,oBAAoBA,EAAM;AAAA;AAAA;AAAA,iEAG1BA,EAAM;AAAA,iEACNA,EAAM;AAAA,oEACHA,EAAM;AAAA,qEACLA,EAAM;AAAA;AAAA;AAAA,kBAGxD,EAAE,EACLV,EAAS,QAAO,EAEhC,CAAS,EAEA,MAAMW,GAAS,CAChB,QAAQ,MAAMA,EAAM,OAAO,CACnC,CAAS,EACA,QAAQ,IAAM,CACXf,EAAO,MAAM,QAAU,MACnC,CAAS"}